<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8" />
          <title>Kaloom: sort</title>
	</head>

<body>
	<div id="root">
	    <table border="2px">
	        <tr>
	            <th data-column="Username" data-order="desc">Username </th>
	            <th data-column="Identifier" data-order="desc">Identifier </th>
	            <th data-column="firstName" data-order="desc">First Name </th>
	            <th data-column="lastName" data-order="desc">Last Name </th>
	            <th data-column="vip" data-order="desc">VIP </th>
	        </tr>
	        <tbody id="myTable">
	        </tbody>
	    </table>
	</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    var data = [{
            Username: "booker12",
            Identifier: "9012",
            "First Name": "Rachel",
            "Last Name": "Booker",
        },
        {
            Username: "grey07",
            Identifier: "2070",
            "First Name": "Laura",
            "Last Name": "Grey",
        },
        {
            Username: "johnson81",
            Identifier: "4081",
            "First Name": "Craig",
            "Last Name": "Johnson",
        },
        {
            Username: "jenkins46",
            Identifier: "9346",
            "First Name": "Mary",
            "Last Name": "Jenkins",
        },
        {
            Username: "smith79",
            Identifier: "5079",
            "First Name": "Jamie",
            "Last Name": "Smith",
            VIP: "true",
        },
    ];

    $('th').on('click', function() {
        var column = $(this).data('column')
        var order = $(this).data('order')

        if (order == 'desc') {
            $(this).data('order', "asc")
            data = data.sort((a, b) => a[column] > b[column] ? 1 : -1)

        } else {
            $(this).data('order', "desc")
            data = data.sort((a, b) => a[column] < b[column] ? 1 : -1)

        }

        buildTable(data)
    })

    buildTable(data)

    function buildTable(data) {
        var table = document.getElementById('myTable')

        table.innerHTML = ''
        for (var i = 0; i < data.length; i++) {

            objIndex = i;
            // console.log("value of objIndex: ", objIndex);

            // console.log("Before update: ", data[objIndex]); 

            if (data[objIndex].VIP === "true") {
                // console.log("if true ", data[objIndex]);
            } else {
                data[objIndex].VIP = "false";
                // console.log("if false ", data[objIndex]);
            }

            var row = `<tr>
						<td>${data[i].Username}</td>
						<td>${data[i].Identifier}</td>
						<td>${data[i]['First Name'] }</td>
						<td>${data[i]['Last Name'] }</td>
						<td>${data[i].VIP}</td>
						</tr>`
            table.innerHTML += row;
        }
    }
</script>

</html>
